---
import Layout from '../layouts/Layout.astro'
import { getFeatureFlags } from '../lib/features'

const flags = getFeatureFlags()
const mode = flags.mode

// Redirect only for single-feature modes
if (mode === 'editor-only') {
  return Astro.redirect('/editor')
}
if (mode === 'coach-only') {
  return Astro.redirect('/coach')
}
---

<Layout title="Prettify AI - Convert LLM Markdown to Professional DOCX & PDF">
  <div class="min-h-screen flex flex-col bg-gray-50">
    <!-- Minimal Header -->
    <header class="bg-white border-b">
      <div class="container mx-auto px-4 py-4 flex items-center justify-between">
        <div class="text-xl font-bold text-primary">prettify-ai.com</div>
        <a href="/editor" class="inline-flex items-center justify-center rounded-md text-sm font-medium bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4">
          Open Editor
        </a>
      </div>
    </header>

    <main class="flex-1">
      <!-- Hero - The Problem/Solution -->
      <section class="bg-white border-b">
        <div class="container mx-auto px-4 py-20 max-w-4xl">
          <div class="text-center">
            <p class="text-sm font-medium text-primary mb-4 uppercase tracking-wide">Free Markdown Conversion Tool</p>
            <h1 class="text-4xl md:text-5xl font-bold tracking-tight text-gray-900 mb-6">
              Prettify AI - Convert Markdown to Professional PDF & DOCX
            </h1>
            <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
              Free online tool to convert LLM markdown output from ChatGPT, Claude, and any AI assistant into professionally styled <strong>PDF</strong> and <strong>DOCX</strong> documents in seconds.
            </p>
            <a href="/editor" class="inline-flex items-center justify-center rounded-md font-medium bg-primary text-primary-foreground hover:bg-primary/90 h-14 px-10 text-lg">
              Start Converting
            </a>
          </div>
        </div>
      </section>

      <!-- The Flow -->
      <section class="py-16">
        <div class="container mx-auto px-4 max-w-5xl">
          <h2 class="text-2xl font-bold text-center mb-4">How Prettify AI Works</h2>
          <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">
            Convert your AI-generated markdown to professional documents in 4 simple steps
          </p>

          <div class="grid md:grid-cols-4 gap-6">
            <!-- Step 1: Paste -->
            <div class="text-center">
              <div class="w-12 h-12 rounded-full bg-gray-200 text-gray-600 font-bold flex items-center justify-center mx-auto mb-3">1</div>
              <h3 class="font-semibold mb-1">Paste Markdown</h3>
              <p class="text-sm text-gray-500">From ChatGPT, Claude, or any LLM</p>
            </div>

            <!-- Step 2: Convert -->
            <div class="text-center">
              <div class="w-12 h-12 rounded-full bg-gray-200 text-gray-600 font-bold flex items-center justify-center mx-auto mb-3">2</div>
              <h3 class="font-semibold mb-1">Convert</h3>
              <p class="text-sm text-gray-500">Instantly renders as formatted document</p>
            </div>

            <!-- Step 3: SELECT THEME - THE HERO -->
            <div class="text-center md:scale-110 relative">
              <div class="absolute inset-0 bg-primary/10 rounded-2xl -m-4 md:block hidden"></div>
              <div class="relative">
                <div class="w-14 h-14 rounded-full bg-primary text-white font-bold text-xl flex items-center justify-center mx-auto mb-3 shadow-lg">3</div>
                <h3 class="font-bold text-lg text-primary mb-2">Select Theme</h3>
                <!-- Mini theme selector preview -->
                <div class="inline-flex items-center gap-2 bg-white border-2 border-primary rounded-lg px-3 py-2 shadow-md">
                  <svg class="w-4 h-4 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path>
                  </svg>
                  <span class="text-sm font-medium">Classic Serif</span>
                  <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </div>
                <p class="text-xs text-gray-500 mt-2">Transforms instantly</p>
              </div>
            </div>

            <!-- Step 4: Export -->
            <div class="text-center">
              <div class="w-12 h-12 rounded-full bg-gray-200 text-gray-600 font-bold flex items-center justify-center mx-auto mb-3">4</div>
              <h3 class="font-semibold mb-1">Export</h3>
              <p class="text-sm text-gray-500">Download as PDF or DOCX</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Output Formats Explained -->
      <section class="bg-white border-y py-16">
        <div class="container mx-auto px-4 max-w-4xl">
          <h2 class="text-2xl font-bold text-center mb-12">Two Outputs, Different Purposes</h2>

          <div class="grid md:grid-cols-2 gap-8">
            <div class="p-6 rounded-xl border-2 border-gray-200">
              <div class="flex items-center gap-3 mb-4">
                <div class="p-2 bg-blue-100 rounded-lg">
                  <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold">DOCX</h3>
              </div>
              <p class="text-gray-600 mb-4">For job portals and ATS systems. Simple formatting that machines can parse.</p>
              <ul class="text-sm text-gray-500 space-y-1">
                <li>Upload to LinkedIn, Indeed, Workday</li>
                <li>ATS-friendly structure</li>
                <li>Editable in Word or Google Docs</li>
              </ul>
            </div>

            <div class="p-6 rounded-xl border-2 border-primary bg-primary/5">
              <div class="flex items-center gap-3 mb-4">
                <div class="p-2 bg-primary/20 rounded-lg">
                  <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                  </svg>
                </div>
                <h3 class="text-xl font-bold">PDF</h3>
              </div>
              <p class="text-gray-600 mb-4">For humans. Beautiful formatting exactly as you see it on screen.</p>
              <ul class="text-sm text-gray-500 space-y-1">
                <li>Email directly to recruiters</li>
                <li>Attach to personal applications</li>
                <li>Print for interviews</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- Common Use Case -->
      <section class="py-16">
        <div class="container mx-auto px-4 max-w-3xl text-center">
          <p class="text-sm font-medium text-gray-500 mb-4">COMMON USE CASE</p>
          <h2 class="text-2xl font-bold mb-6">AI-Generated Resumes with Prettify AI</h2>
          <p class="text-gray-600 mb-8">
            You asked ChatGPT or Claude to write your resume. It gave you great content in markdown format.
            Now you need it in a format you can actually submit. Prettify AI converts your AI-generated markdown into professional documents instantly - no signup required.
          </p>
          <a href="/editor" class="inline-flex items-center justify-center rounded-md font-medium bg-primary text-primary-foreground hover:bg-primary/90 h-12 px-8">
            Try It Now
          </a>
        </div>
      </section>

      <!-- Power User Feature -->
      <section class="bg-white border-t py-12">
        <div class="container mx-auto px-4 max-w-2xl text-center">
          <h3 class="font-semibold mb-3">Power User Tip: Bookmarklet</h3>
          <p class="text-gray-600 text-sm mb-4">Drag this to your bookmark bar. Select text in ChatGPT, click it, and it opens here ready to convert.</p>
          <a
            href="javascript:(function(){var s=window.getSelection().toString();if(!s){alert('Select some text first!');return;}window.open('https://prettify-ai.com/editor?content='+btoa(unescape(encodeURIComponent(s))),'_blank');})();"
            class="inline-flex items-center gap-2 px-4 py-2 bg-gray-100 rounded border-2 border-dashed border-gray-300 hover:border-primary hover:bg-gray-50 cursor-move"
            onclick="event.preventDefault();alert('Drag this to your bookmark bar!');"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
            Prettify It
          </a>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="border-t bg-white py-8">
      <div class="container mx-auto px-4 text-center">
        <div class="mb-4">
          <h3 class="text-lg font-bold text-gray-900 mb-2">Prettify AI</h3>
          <p class="text-sm text-gray-600 mb-4 max-w-2xl mx-auto">
            Free markdown to PDF and DOCX converter. Transform AI-generated content from ChatGPT, Claude, and other LLMs into professional documents.
          </p>
        </div>
        <div class="flex justify-center gap-6 mb-4 text-sm">
          <a href="/editor" class="text-gray-600 hover:text-primary underline">Markdown Editor</a>
          <a href="/coach" class="text-gray-600 hover:text-primary underline">Resume Coach</a>
          <a href="https://github.com/dkeesey/prettify-ai" class="text-gray-600 hover:text-primary underline" target="_blank" rel="noopener noreferrer">Open Source</a>
        </div>
        <p class="text-xs text-gray-500">
          100% Free • No Signup Required • Privacy-Focused
        </p>
      </div>
    </footer>
  </div>
</Layout>
